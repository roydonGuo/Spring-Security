{"remainingRequest":"D:\\JAVA\\IDEA\\IDEAProjects\\Spring-Security\\vue_security_cors\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JAVA\\IDEA\\IDEAProjects\\Spring-Security\\vue_security_cors\\src\\views\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JAVA\\IDEA\\IDEAProjects\\Spring-Security\\vue_security_cors\\src\\views\\login\\index.vue","mtime":1640247596000},{"path":"D:\\JAVA\\IDEA\\IDEAProjects\\Spring-Security\\vue_security_cors\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664886187438},{"path":"D:\\JAVA\\IDEA\\IDEAProjects\\Spring-Security\\vue_security_cors\\node_modules\\babel-loader\\lib\\index.js","mtime":1664886188818},{"path":"D:\\JAVA\\IDEA\\IDEAProjects\\Spring-Security\\vue_security_cors\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664886187438},{"path":"D:\\JAVA\\IDEA\\IDEAProjects\\Spring-Security\\vue_security_cors\\node_modules\\vue-loader\\lib\\index.js","mtime":1664886189108}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBsb2dpbiwgdGVzdENvcnMgfSBmcm9tICdAL2FwaS9sb2dpbicNCmltcG9ydCB7IHNldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnbG9naW4nLA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdXNlcjogew0KICAgICAgICB1c2VyTmFtZTogJycsIC8vIOeUqOaIt+WQjQ0KICAgICAgICBwYXNzd29yZDogJycgLy8g5a+G56CBDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgc2VuZFJlcXVlc3QgKCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGVzdENvcnMoKQ0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpDQogICAgICAgIHRoaXMuJHRvYXN0LnN1Y2Nlc3MoJ+ivt+axguaIkOWKnycpDQogICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgdGhpcy4kdG9hc3QuZmFpbCgn6K+35rGC5aSx6LSlJykNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIG9uU3VibWl0ICgpIHsNCiAgICAgIC8vIDEuIOiOt+WPluihqOWNleaVsOaNrg0KICAgICAgY29uc3QgdXNlciA9IHRoaXMudXNlcg0KICAgICAgLy8gMy4g5o+Q5Lqk6KGo5Y2V6K+35rGC55m75b2VDQogICAgICB0aGlzLiR0b2FzdC5sb2FkaW5nKHsNCiAgICAgICAgbWVzc2FnZTogJ+eZu+W9leS4rS4uLicsDQogICAgICAgIGZvcmJpZENsaWNrOiB0cnVlLCAvLyDnpoHnlKjog4zmma/ngrnlh7sNCiAgICAgICAgZHVyYXRpb246IDUwMCAvLyDmjIHnu63ml7bpl7TvvIzpu5jorqQgMjAwMO+8jDAg6KGo56S65oyB57ut5bGV56S65LiN5YWz6ZetDQogICAgICB9KQ0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgbG9naW4odXNlcikNCiAgICAgICAgaWYgKHJlcy5kYXRhLnRva2VuKSB7DQogICAgICAgICAgc2V0VG9rZW4ocmVzLmRhdGEudG9rZW4pDQogICAgICAgIH0NCg0KICAgICAgICAvLyBpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAvLyAgIHRoaXMuJHRvYXN0LnN1Y2Nlc3MoJ+eZu+W9leaIkOWKnycpDQogICAgICAgIC8vIH0gZWxzZSB7DQogICAgICAgIC8vICAgdGhpcy4kdG9hc3Quc3VjY2VzcyhyZXMubWVzc2FnZSkNCiAgICAgICAgLy8gfQ0KICAgICAgICBjb25zb2xlLmxvZygncmVzJywgcmVzKQ0KICAgICAgfSBjYXRjaCAoZXJyKSB7DQogICAgICAgIHRoaXMuJHRvYXN0LmZhaWwoJ+eZu+W9leWksei0pe+8jOivt+eojeWQjumHjeivlScpDQogICAgICB9DQogICAgICAvLyA0LiDmoLnmja7or7fmsYLlk43lupTnu5PmnpzlpITnkIblkI7nu63mk43kvZwNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\r\n  <div>\r\n    <van-nav-bar title=\"登录\" />\r\n    <van-form @submit=\"onSubmit\">\r\n      <van-field\r\n        v-model=\"user.userName\"\r\n        name=\"用户名\"\r\n        label=\"用户名\"\r\n        placeholder=\"用户名\"\r\n        :rules=\"[{ required: true, message: '请填写用户名' }]\"\r\n      />\r\n      <van-field\r\n        v-model=\"user.password\"\r\n        type=\"password\"\r\n        name=\"密码\"\r\n        label=\"密码\"\r\n        placeholder=\"密码\"\r\n        :rules=\"[{ required: true, message: '请填写密码' }]\"\r\n      />\r\n      <div style=\"margin: 16px\">\r\n        <van-button round block type=\"info\" native-type=\"submit\"\r\n          >登录</van-button\r\n        >\r\n      </div>\r\n    </van-form>\r\n    <!-- 居中 -->\r\n    <van-row type=\"flex\" justify=\"center\">\r\n      <van-col span=\"6\">\r\n        <van-button type=\"primary\" @click=\"sendRequest\">测试接口</van-button>\r\n      </van-col>\r\n    </van-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { login, testCors } from '@/api/login'\r\nimport { setToken } from '@/utils/auth'\r\nexport default {\r\n  name: 'login',\r\n  data () {\r\n    return {\r\n      user: {\r\n        userName: '', // 用户名\r\n        password: '' // 密码\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async sendRequest () {\r\n      try {\r\n        const res = await testCors()\r\n        console.log(res)\r\n        this.$toast.success('请求成功')\r\n      } catch (err) {\r\n        this.$toast.fail('请求失败')\r\n      }\r\n    },\r\n    async onSubmit () {\r\n      // 1. 获取表单数据\r\n      const user = this.user\r\n      // 3. 提交表单请求登录\r\n      this.$toast.loading({\r\n        message: '登录中...',\r\n        forbidClick: true, // 禁用背景点击\r\n        duration: 500 // 持续时间，默认 2000，0 表示持续展示不关闭\r\n      })\r\n      try {\r\n        const res = await login(user)\r\n        if (res.data.token) {\r\n          setToken(res.data.token)\r\n        }\r\n\r\n        // if (res.code === 200) {\r\n        //   this.$toast.success('登录成功')\r\n        // } else {\r\n        //   this.$toast.success(res.message)\r\n        // }\r\n        console.log('res', res)\r\n      } catch (err) {\r\n        this.$toast.fail('登录失败，请稍后重试')\r\n      }\r\n      // 4. 根据请求响应结果处理后续操作\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n</style>\r\n"]}]}